# Пример работы активити приложения

{% file src="../.gitbook/assets/OLChat (1).rar" %}
Скачать шаблон бизнес-процесса OLChat
{% endfile %}

{% hint style="warning" %}
Данный пример процесса не является готовым и универсальным решением, охватывающим множество вариантов сценариев и различные задачи. Его цель — последовательно продемонстрировать работу всех активити приложения.&#x20;
{% endhint %}

&#x20;Сценарий данного процесса следующий:

1. Дано 2 номера телефона в карточке контакта. С помощью активити **«\[OLChat] WhatsApp - Проверка WhatsApp на номере»** проверяем, на каком из номеров есть WhatsApp и выводим результат проверки в уведомление
2. Номер, на котором есть WhatsApp добавляем в пользовательское поле «Номер с WA»
3. Выполняем отправку сообщения на номер, указанный в поле «Номер с WA» с помощью активити **«\[OLChat] WhatsApp - Отправка сообщения»**
4. Выполняем отправку контакта из поля «Контакт (номер) WA» на номер, указанный в поле «Номер с WA» с помощью активити **«\[OLChat] WhatsApp - Отправка контакта»**
5. Выполняем отправку файла (картинки) на номер, указанный в поле «Номер с WA» с помощью активити **«\[OLChat] WhatsApp - Отправка файла»**
6. Выполняем отправку сообщения в одну из подключенных групп с помощью активити **«\[OLChat] WhatsApp - Отправка сообщения в группу»**

{% hint style="warning" %}
**Перед использованием данного шаблона помните о следующем ограничении:**

**В карточке контакта может быть указано несколько номеров телефона, которые необходимо подвергнуть проверке, но среди них может быть только один номер, на котором есть WhatsApp. Если номеров с WhatsApp окажется больше одного — корректная работа бизнес-процесса не гарантирована.**

**Также следует помнить о том, что в пользовательском поле «Контакт (номер) WA» должен быть записан номер телефона, который содержится в карточке контакта вашего списка контактов на смартфоне.**
{% endhint %}

Чтобы воспользоваться данным примером бизнес-процесса, выполните следующие действия:

1\. Убедитесь, что у вас есть минимум одна подключенная линия и группа\
2\. Убедитесь, что в настройках приложения включены все вышеперечисленные активити\
3\. Скачайте и разархивируйте файл шаблона\
4\. Добавьте новый шаблон бизнес-процесса в контактах\
5\. Импортируйте файл шаблона в ваш бизнес-процесс.\
[Подробнее об импорте в статье Битрикс24](https://helpdesk.bitrix24.ru/open/5435897/)\
6\. Укажите ваши линии для отправки в следующих активити:\
&#xNAN;**— \[OLChat] WhatsApp - Отправка сообщения**\
**— \[OLChat] WhatsApp - Отправка контакта**\
**— \[OLChat] WhatsApp - Отправка файла**

![](<../.gitbook/assets/image (917).png>)

![](<../.gitbook/assets/image (773).png>)

7\. Укажите группу, в которую необходимо отправить сообщение в активити **«\[OLChat] WhatsApp - Отправка сообщения в группу».**

![](<../.gitbook/assets/image (422).png>)

8\. Сохраните изменения\
9\. В пользовательском поле «Контакт (номер) WA» укажите телефон, который содержится в карточке отправляемого контакта.\
10\. Запустите процесс вручную из карточки контакта и проследите за его выполнением

![](<../.gitbook/assets/image (736).png>)
